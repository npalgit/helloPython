#encoding=utf8
import pymongo
import traceback


mongo_config = {
    'host': '127.0.0.1',
    'port': 27017,
    'db': 'stock_info',
}

try:
    conn = pymongo.MongoClient(mongo_config['host'], mongo_config['port'])
    db = conn[mongo_config['db']]
except Exception:
    print(traceback.format_exc())
    exit(-1)

ids = []
for record in db.get_collection('stock_list').find({}):
    ids.append((record['tag_name'],int(record['stock_code'])))

print(ids)

# ['16756', '16755', '16744', '16735', '16736', '16745', '16746', '16737', '16738', '16747', '16739', '16748', '16740', '16749', '16741', '16750', '16742', '16751', '16743', '16752', '16753', '16754', '10321', '10323', '10324', '10322', '10351', '10349', '10352', '10350', '10347', '10345', '10348', '10346', '10327', '10336', '10328', '10337', '10338', '10329', '10339', '10330', '10340', '10331', '10341', '10332', '10342', '10333', '10343', '10334', '10344', '10335', '16708', '16707', '16704', '16703', '16700', '16699', '16696', '16695', '16692', '16691', '16686', '16685', '16667', '16676', '16668', '16677', '16678', '16669', '16679', '16670', '16680', '16671', '16681', '16672', '16682', '16673', '16674', '16683', '16684', '16675', '16687', '16688', '16734', '16733', '16732', '16731', '16730', '16729', '16728', '16727', '16709', '16718', '16710', '16719', '16711', '16720', '16721', '16712', '16722', '16713', '16723', '16714', '16724', '16715', '16725', '16716', '16726', '16717', '10325', '10326']










